<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hans Heisenberg D. Montemar - Resume</title>
</head>
<body>
    <button class="toggle-button" onclick="toggleMode()">Night Mode</button>
    <div class="container">
        <header>
            <h1 id="name">Name:</h1>
            <p id="birthday">Birthday:</p>
            <p>| Phone: <span id="contactNo"></span></p>
            <p id="location"></p>
        </header>
        <hr>
        <div class="section">
            <h2 class="section-header">Summary</h2>
            <p></p>
        </div>
        <div class="section" id="experience">
            <h2 class="section-header">Experience</h2>
            <!-- Experience items will be populated here -->
        </div>
        <div class="section" id="education">
            <h2 class="section-header">Education</h2>
            <!-- Education items will be populated here -->
        </div>
        <div class="section" id="skills">
            <h2 class="section-header">Skills</h2>
            <!-- Skills items will be populated here -->
        </div>
    </div>
    <script>
        function toggleMode() {
            document.body.classList.toggle('night-mode');
            const button = document.querySelector('.toggle-button');
            if (document.body.classList.contains('night-mode')) {
                button.textContent = 'Day Mode';
            } else {
                button.textContent = 'Night Mode';
            }
        }

        async function fetchData() {
            try {
                const response = await fetch('http://localhost:3000/portfolio');
                const data = await response.json();
                document.getElementById('name').textContent = `Name: ${data.personalInfo.Name}`;
                document.getElementById('birthday').textContent = `Birthday: ${data.personalInfo.Birthday}`;
                document.getElementById('contactNo').textContent = data.personalInfo.ContactNo;

                const experienceSection = document.getElementById('experience');
                data.workExperience.forEach(job => {
                    const jobItem = document.createElement('div');
                    jobItem.innerHTML = `<h3>${job.designation} - ${job.company} (${job.year})</h3><p>${job.details}</p>`;
                    experienceSection.appendChild(jobItem);
                });

                const educationSection = document.getElementById('education');
                data.education.forEach(edu => {
                    const eduItem = document.createElement('p');
                    eduItem.textContent = `${edu.school} (${edu.year})`;
                    educationSection.appendChild(eduItem);
                });

                const skillsSection = document.getElementById('skills');
                data.skills.forEach(skill => {
                    const skillItem = document.createElement('p');
                    skillItem.textContent = `${skill.description} - ${skill.level}`;
                    skillsSection.appendChild(skillItem);
                });

            } catch (error) {
                console.error('Error fetching data:', error);
            }
        }

        window.onload = fetchData;
    </script>
</body>
</html>
